require=function t(i,e,r){function s(n,o){if(!e[n]){if(!i[n]){var d="function"==typeof require&&require;if(!o&&d)return d(n,!0);if(c)return c(n,!0);var a=new Error("Cannot find module '"+n+"'");throw a.code="MODULE_NOT_FOUND",a}var p=e[n]={exports:{}};i[n][0].call(p.exports,function(t){var e=i[n][1][t];return s(e||t)},p,p.exports,t,i,e,r)}return e[n].exports}for(var c="function"==typeof require&&require,n=0;n<r.length;n++)s(r[n]);return s}({birdScript:[function(t,i,e){"use strict";cc._RF.push(i,"62e404OuIVNhpDNQ9xPvlHp","birdScript"),cc.Class({extends:cc.Component,properties:{vy:0,jumpSpeed:{default:14.7,type:"Float"},g:{default:9.8,type:"Float",tooltip:"Gravity"},initialY:{default:500,type:"Float"},started:!1,dead:!1},start:function(){this.childSpriteNode=this.node.getChildByName("bird"),this.node.y=this.initialY},skip:function(){this.started&&!this.dead&&(this.vy=-this.jumpSpeed)},update:function(t){if(this.started&&(this.vy+=this.g*t*5,this.node.y-=this.vy),this.node.y>928)this.node.y=928,this.vy=0;else if(this.node.y<=90)return this.node.y=90,void(this.vy=0);this.childSpriteNode.rotation=this.vy},onCollisionEnter:function(t,i,e){this.started=!1,this.dead=!0}}),cc._RF.pop()},{}],directorScript:[function(t,i,e){"use strict";cc._RF.push(i,"98ca0fMVBFL9Y5zCzQBzouG","directorScript"),cc.Class({extends:cc.Component,properties:{bird:{default:null,type:cc.Node},startBtn:{default:null,type:cc.Button},finalScore:{default:null,type:cc.Label},scoreLeftTop:{default:null,type:cc.Label},bestScore:{default:null,type:cc.Label},uiLayout:{default:null,type:cc.Layout},tubes:{default:null,type:cc.Node}},start:function(){cc.director.getCollisionManager().enabled=!0,this.birdParticle=this.bird.getChildByName("particlesystem"),this.score=0,this.startBtnLabel=this.startBtn.node.children[0].getComponent(cc.Label),this.startBtnLabel.string="开始游戏",this.birdScript=this.bird.getComponent("birdScript"),this.tubesScript=this.tubes.getComponent("tubesScript"),this.uiAnim=this.uiLayout.getComponent(cc.Animation),this.gg=!1},gameStart:function(){this.score=0,this.birdParticle.active=!0,this.gg=!1,this.startBtn.node.active=!1,this.uiLayout.node.scale=0,this.bird.y=this.birdScript.initialY,this.birdScript.started=!0,this.birdScript.dead=!1,this.birdScript.skip(),this.tubesScript.clean(),this.tubesScript.startGenerate()},gameOver:function(){var t=parseInt(this.getBest());isNaN(t)&&(t=0),this.score>t&&(this.saveBest(this.score),t=this.score),this.birdParticle.active=!1,this.startBtn.node.active=!0,this.startBtnLabel.string="再来一次",this.bestScore.string="历史最高分: "+t,this.uiAnim.play("UIAnimationClip")},saveBest:function(t){cc.sys.localStorage.setItem("best",t)},getBest:function(){return cc.sys.localStorage.getItem("best")},update:function(t){this.gg||(this.scoreLeftTop.string=this.score,this.finalScore.string=this.score,this.birdScript.dead&&(this.gameOver(),this.gg=!0))}}),cc._RF.pop()},{}],landMoveScript:[function(t,i,e){"use strict";cc._RF.push(i,"5ef19wt0fBDWao0rvcpkLIG","landMoveScript"),cc.Class({extends:cc.Component,properties:{speed:{default:150,type:"Float"},bird:{default:null,type:cc.Node},birdScript:null},start:function(){this.birdScript=this.bird.getComponent("birdScript")},update:function(t){if(!this.birdScript.dead)for(var i=0;i<this.node.children.length;i++){var e=this.node.children[i];e.x-this.speed*t<=-62?e.x=819:e.x-=this.speed*t}}}),cc._RF.pop()},{}],touchEventPanelScript:[function(t,i,e){"use strict";cc._RF.push(i,"e5fc4TJIyxFyrELdSy6hpWO","touchEventPanelScript"),cc.Class({extends:cc.Component,properties:{bird:{default:null,type:cc.Node},birdScript:null},start:function(){this.birdScript=this.bird.getComponent("birdScript"),this.node.on("touchstart",function(t){this.birdScript.skip()},this)}}),cc._RF.pop()},{}],tubesScript:[function(t,i,e){"use strict";cc._RF.push(i,"35611Pdj+1McZ8lJdkyadMX","tubesScript"),cc.Class({extends:cc.Component,properties:{bird:{default:null,type:cc.Node},director:{default:null,type:cc.Node},tGroup:{default:null,type:cc.Prefab},speed:150,spaceT:1},start:function(){this.birdScript=this.bird.getComponent("birdScript"),this.directorScript=this.director.getComponent("directorScript")},generate:function(){var t=new cc.instantiate(this.tGroup);t.x=700,t.y=400*Math.random()-200,t.parent=this.node},startGenerate:function(){this.generate(),this.countT=0},clean:function(){for(var t=0;t<this.node.children.length;t++)this.node.children[t].destroy()},update:function(t){if(!this.birdScript.dead&&this.birdScript.started){this.countT+=t,this.countT>this.spaceT&&(this.countT=0,this.generate());for(var i=[],e=0;e<this.node.children.length;e++){var r=this.node.children[e];r.x<=-128?i.push(r):r.x-=this.speed*t,r.x<320&&!r.gotPoint&&(r.gotPoint=!0,this.directorScript.score++)}for(;i.length>0;)i.pop().destroy()}}}),cc._RF.pop()},{}]},{},["birdScript","directorScript","landMoveScript","touchEventPanelScript","tubesScript"]);